---
layout: page
title: GovSteamEU
categories: ["regulations", "governor", "controller", "synchronous machine", "Opensource", "IEC", "CIMDynamic", "RMS", "modelica", "dynawo", "#59"]
author: Martin Franke (Fraunhofer IEE), Saikrishna Vallabhaneni (Fraunhofer IEE), Nils Wiese (IEE)
reviewers: Mathilde Bongrain (CRESYM)
date: 20/06/2024
last-updated: 16/07/2024
id: #59
bibliography: ../../../../_bibliography/references.bib
---

## Context

The traditional operation of electrical power systems depends on the
performance of the synchronous generators of thermal plants, typically
driven by various types of turbines such as steam, gas, or hydro
turbines. Steam turbines are commonly found in coal, oil, and nuclear
power plants. The process begins with the generation of high-pressure
high-temperature steam in a boiler. A governor regulates the mechanical
power ($P_m$) delivered from the turbine to the electrical generator.
Modern governors with electro-hydraulic control, like the GovSteamEU,
evolved from governors with mechanical-hydraulic control.

GovSteamEU is documented in [1]. Many aspects of modeling steam
governors with electro-hydraulic control are already explained in a 1973
IEEE report [2].

## Model use, assumptions, validity domain and limitations

The model is a positive-sequence RMS model, hence it assumes symmetrical
operating conditions and neglects high-frequency dynamics. This type of
model is often used in large-scale stability studies, for which it
reflects the relevant phenomena. It is not a detailed physical model of
the unit. Also for some stability phenomena (e.g. resonance stability)
this model is not sufficient and EMT models or other approaches may be
necessary .

The model operates only under the assumption that resistive and
mechanical losses are negligible, and in steady state condition
$P_{e} = P_{m}$. This assumes that mechanical losses do
not have any major effect on dynamic stability [1].

## Model schema

![Model schema, based on [1] and [3]](./drawings/GovSteamEU.drawio.svg){#fig-control_diagram}

![Steam turbine with high pressure (HP) and low pressure (LP) part](./drawings/SteamTurbineConfig.drawio.svg){#fig-Steam_turbine_configuration}

## Model description

### Turbine model

The turbine model is the mechanical part of the model with boiler, high
pressure (HP) turbine and low pressure (LP) turbine [4]. Its output is
the mechanical power $P_{m}$. A schematic representation of a
steam turbine with HP and LP part is shown in
@fig-Steam_turbine_configuration. The HP stage's single-triangle symbol
and the LP stage's double-triangle symbol represent the fact that in the
HP stage steam expands in only one direction whereas in the LP stage it
expands in two directions [5].

#### Boiler

The boiler is responsible for converting water into high-pressure,
high-temperature steam. In normal operation $P_{set}$ is used as
the boiler set-point $P_{set,boiler}$, i.e. the heat supplied to
the boiler. In over speed situation, the emergency speed control signal
is used instead, see **Emergency speed control and intercept valve (IV)** section.

The boiler output, i.e. the amount of steam supplied from the boiler to
the turbine, is manipulated by the control valves [4].

#### High-Pressure (HP) and low pressure (LP) turbine stages

The HP and LP stages are modeled by a first order elements and gains
$T_{hp}$, $K_{hp}$ and $T_{lp}$, $K_{lp}$.

Steam power from the boiler enters the HP stage and is partly converted
into mechanical power. The steam output from the HP stage then enters
the reheater. Because the HP stage's dynamic response is relevant here,
the output of the $T_{hp}$ lag element is used as input, but
without the gain $K_{hp}$.

Before entering the LP stage, the output steam from the HP stage must be
reheated to prevent any water droplets from entering and to increase
efficiency. The reheater is also modeled by a first order element with
time constant $T_{rh}$.

From there the reheated steam passes the intercept valve and enters the
LP stage. Here, the first order element directly contains the gain
$K_{lp}$, because only the generated power is of interest (the
dynamic behaviour of the steam flow without gain is not necessary
because there is no other following turbine stage) [4].

The mechanical power output $P_{m}$ is the sum of the parts
generated by the HP and LP turbine stages. To accurately represent this
distribution, the gains for the HP and LP turbine stages must satisfy
the following condition:

$$K_{hp} + K_{lp}  = 1$$

### Control paths

The governor controller is responsible for regulating the steam flow to
maintain the desired turbine speed or power output. It consists of two
primary control paths [4], island and grid connected mode. They output
the setpoint of the control valve's position.

#### Island mode ($\omega$-part)

In island mode, the input is the turbine's rotational speed $\omega$. It
operates without connection to any external power grid, with the primary
goal of maintaining a constant turbine speed. To achieve this, the
measured turbine speed $\omega$ is subtracted from the reference speed
$\omega_{ref}$ to obtain the error signal $\Delta\omega$. After
passing the dead-band $\Delta \omega_{db}$, it is used as input
for the proportional $K_{\omega,cor}$ [4] [6].

The output of the island mode does not pass through the electrohydraulic 
transducer because it is an analog/mechanical controller, whereas the 
output of the PID controller of the grid connected mode is an electric signal. 

#### Grid connected mode ($f$-part)

In grid connected mode, the input is the measured electrical frequency
$f$. The plant is linked to an upstream grid and contributes to overall
grid stability. Here, frequency control is achieved through collective
behavior; individual output adjustments are made via droop regulation.

This is implemented via a proportional gain $K_{f,cor}$ with
dead-band $\Delta f_{db}$ contributing to the power set-point
$P_{set}$. The measured power $P_{e}$ is then subtracted
to obtain the error signal $\Delta f$ of the PID controller [4] [6].

#### Emergency speed control and intercept valve (IV)

**Emergency speed control**

In case of loss of loads, the turbine speed instantly begins to
increase. Ideally, the governor is able to handle such fluctuations and
reduces the control valve set-point fast enough. If not, an emergency
speed control is activated to reduce the active power output of the
turbine fast.

The *Emergency Speed Control* block in
@fig-control_diagram outputs
1 if $\omega < \omega_{max,1}$ and 0 if
$\omega > \omega_{max,2}$. In-between it interpolates between 1
and 0. This output is supposed to be below 1 or equal to 0 if $\omega$
reaches dangerous levels (dangerous for mechanical stability of the
turbine). It is then passed to the two different low value select blocks
(min()).

This has the effect of reducing the control valve and boiler set-points
($P_{set,ctrl}$, $P_{set,boiler}$) fast, independently
of what the controllers and the power set-point $P_{set}$ do.

This fast reduction of $P_{set,ctrl}$ also affects the intercept
valve model, see below.

**Intercept valve (IV)**

Intercept valves remain fully open (set-point and position = 1) for
regular speed/load adjustments [4]. In overspeed situations, the
intercept valve shall close quickly and then reopen once normal
conditions are restored.

In this model, the intercept valve set-point is generated by the
*intercept valves set-point generation* block. The input is the control
valves input signal.

If the control valve set-point $P_{set,ctrl}$ is above
$P_{simx}$, the output is 1. If $P_{set,ctrl}$ drops
below, the output is reduced linearly until it reaches 0. In other
implementations, a step to 0 is used instead of linear reduction as
shown in the
@fig-control_diagram from
[1].

In combination with the emergency speed control block, this leads to a
fast reduction of the intercept valve set-point in case of over speed
and hence interrupting the steam flow into the LP turbine and quickly
reducing $P_{m}$.

### Boiler set-point and control valve set-point coordination

When the power set-point $P_{set}$ changes, 
it influences the feed-forward control of the boiler, which has a slow response time, 
and the PID controller that manages the control valve, which reacts more quickly. 
By implementing the control valve signal multiplication within the first-order element 
representing the boiler, the feed-forward and PID controls work in harmony rather than opposition, 
allowing the system to reach a steady state that reflects the new $P_{set}$.

## Parameters:

The parameters are based on [1] and [3].

Per-unit parameters are on base of $P_{base}$, which is normally
the capability of the turbine in MW.

::: {#tbl-parameters}

| name                            | type  | unit | IEC name  | description                                                                  | typical value |
| :------------------------------ | :---- | :--- | :-------- | :--------------------------------------------------------------------------- | :------------ |
| $C_{hc}$               | float | $pu$   | $chc$       | Control valves closing rate limit                                            | $-3.3$          |
| $C_{ho}$               | float | $pu$   | $cho$       | Control valves opening rate limit                                            | $0.17$          |
| $C_{ic}$               | float | $pu$   | $cic$       | Intercept valves closing rate limit                                          | $-2.2$          |
| $C_{io}$               | float | $pu$   | $cio$       | Intercept valves opening rate limit                                          | $0.123$         |
| $\Delta f_{db}$        | float | $pu$   | $db1$       | Deadband of frequency droop                                                  | $0$             |
| $\Delta\omega_{db}$    | float | $pu$   | $db2$       | Deadband of the speed governor (island mode)                                 | $0.0004$        |
| $H_{hp,max}$          | float | $pu$   | $hhpmax$    | Maximum control valve position                                               | $1$             |
| $K_e$                | float | $pu$   | $ke$        | Proportional gain of the PID controller                                      | $0.65$          |
| $K_{f,cor}$           | float | $pu$   | $kfcor$     | Frequency droop                                                              | $20$            |
| $K_{hp}$               | float | $pu$   | $khp$       | Fraction of total turbine output generated by HP part                        | $0.277$         |
| $K_{lp}$               | float | $pu$   | $klp$       | Fraction of total turbine output generated by LP part                        | $0.723$         |
| $K_{\omega,cor}$    | float | $pu$   | $komegacor$ | Gain of the speed governor (island mode)                                     | $20$            |
| $\omega_{f,max}$      | float | $pu$   | $wfmax$     | Upper limit for droop output                                                 | $0.05$          |
| $\omega_{f,min}$      | float | $pu$   | $wfmin$     | Lower limit for droop output                                                 | $-0.05$         |
| $\omega_{max,1}$      | float | $pu$   | $wmax1$     | Emergency speed control lower limit                                          | $1.025$         |
| $\omega_{max,2}$      | float | $pu$   | $wmax2$     | Emergency speed control upper limit                                          | $1.05$          |
| $\omega_{\omega,max}$ | float | $pu$   | $wwmax$     | Upper limit for the speed governor (island mode)                             | $0.1$           |
| $\omega_{\omega,min}$ | float | $pu$   | $wwmin$     | Lower limit for the speed governor (island mode)                             | $-1$            |
| $P_{max}$              | float | $pu$   | $pmax$      | Maximal active power of the turbine                                          | $1$             |
| $P_{rh,max}$          | float | $pu$   | $prhmax$    | Maximum low pressure limit                                                   | $1.4$           |
| $P_{simx}$             | float | $pu$   | $simx$      | Intercept valves transfer limit                                              | $0.425$         |
| $T_b$                | float | $s$    | $tb$        | Boiler time constant                                                         | $100$           |
| $T_{dp}$               | float | $s$    | $tdp$       | Derivative time constant of the power controller                             | $0$             |
| $T_{en}$               | float | $s$    | $ten$       | Electro hydraulic transducer                                                 | $0.1$           |
| $T_f$                | float | $s$    | $tf$        | Frequency transducer time constant                                           | $0$             |
| $T_{fp}$               | float | $s$    | $tfp$       | Time constant for nunmerical approximation of PID controller derivative part | $0$             |
| $T_{hp}$               | float | $s$    | $thp$       | High pressure (HP) time constant of the turbine                              | $0.31$          |
| $T_{ip}$               | float | $s$    | $tip$       | Integral time constant of PID controller                                     | $2$             |
| $T_{lp}$               | float | $s$    | $tlp$       | Low pressure (LP) time constant of the turbine                               | $0.45$          |
| $T_{\omega}$           | float | $s$    | $tw$        | Speed transducer time constant                                               | $0.02$          |
| $T_p$                | float | $s$    | $tp$        | Power transducer time constant                                               | $0.07$          |
| $T_{rh}$               | float | $s$    | $trh$       | Reheater time constant of the turbine                                        | $8$             |
| $T_{v,hp}$            | float | $s$    | $tvhp$      | Control valves servo time constant                                           | $0.1$           |
| $T_{v,lp}$            | float | $s$    | $tvlp$      | Intercept valves servo time constant                                         | $0.15$          |

Parameters

:::

**Note:** As stated in [1], to represent a turbine without a reheater, set
$T_{rh}$ to a very small value (e.g. 0 s or 0.001 s) and $T_{lp} \approx$ 0.5 s.

## Variables

### Inputs

::: {#tbl-inputs}

| name               | type  | unit | IEC name   | description                          |
| :----------------- | :---- | :--- | :--------- | :----------------------------------- |
| $\omega$         | float | $pu$   | $\omega$ | Rotor speed                          |
| $f$                  | float | $pu$   | $f$          | Local (nodal) frequency              |
| $P_e$   | float | $pu$   | $pe$         | Measured electrical power generation |
| $P_{ref}$ | float | $pu$   | $Pref$       | load setpoint                        |

Inputs

:::

### Outputs

::: {#tbl-outputs}

| name             | type  | unit | IEC name | description      |
| :--------------- | :---- | :--- | :------- | :--------------- |
| $P_m$ | float | $pu$   | $Pm$       | Mechanical power |

Outputs

:::

## Equations & algorithm  

â€“

## Initial equations / boundary conditions (optional)

The initial values for the system's states are calculated from the
initial mechanical power $P_{m,0}$, frequency $f_0$ and
rotation speed $\omega_0$. 

### Helper variables

The following "helper variables" are defined to avoid repetition in the
definitions of initial states below.

$$
R_{h,0} = 
\begin{cases}
    P_{m,0} ,& \text{if } T_{rh} > 0\\
    0,              & \text{otherwise}
\end{cases}
$$ {#eq-initReheat}

$$
P_{c,0} = P_{m,0} - \min\left(\max\left(K_{\omega,cor} \cdot 1, \omega_{min}\right), \omega_{max}\right)
$$ {#eq-initPc}

### Initial states

These initial states refer to the states as defined in
@fig-control_diagram.

$$x_{lp,0} = P_{m,0}$$ {#eq-initXlp}

$$x_{rh,0} = R_{h,0}$$ {#eq-initXrh}

$$x_{hp,0} = P_{m,0}$$ {#eq-initXhp}

$$x_{b,0} = 1$$ {#eq-initXb}

$$x_{hhp,0} = P_{m,0}/x_{b,0}$$ {#eq-initXhhp}

$$x_{vlp,0} = 1$$ {#eq-initXvip}

$$x_{\omega,0} =  \omega_0$$ {#eq-initXomega}

$$x_{en,0} = P_{c,0}$$ {#eq-initXen}

$$x_{ip,0} = P_{c,0}$$ {#eq-initXip}

$$x_{dp,0} = 0$$ {#eq-initXdp}

$$x_{p,0} = P_{m,0}$$ {#eq-initXp}

$$x_{f,0} = f_0$$ {#eq-initXf}

## Open Questions?
- Care should be taken when selecting the island and grid-connected mode 
  parameters. It did not become clear to the authors if there are physically meaningful 
  cases with grid connected ($f$) and island ($\omega$) 
  modes both active -- or if one of them should always be disabled.

## Open source implementations

This model has been successfully implemented in :

| Software               | URL                                        | Language | Open-Source License                                | Last consulted date | Comments                                                                                              |
| ---------------------- | ------------------------------------------ | -------- | -------------------------------------------------- | ------------------- | ----------------------------------------------------------------------------------------------------- |
| Open Modelica / Dynawo | [Dynawo](https://github.com/dynawo/dynawo) | modelica | [MPL v2.0](https://www.mozilla.org/en-US/MPL/2.0/) | 16/07/2024          | For modeling assumptions and test results, see [Dynawo](https://github.com/dynawo/dynawo) repository. |

## References 
