<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2025-05-09">

<title>GovHydro4</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="../../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../../">
<script src="../../../../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../../../../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../../site_libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../../site_libs/bootstrap/bootstrap-684cd2e4dca32dbb331d0f802940736f.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../../../../styles.css">
</head>

<body class="nav-sidebar floating nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../../../../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../../../../assets/img/Logo_colib.svg" alt="" class="navbar-logo">
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../../../index.html"> 
<span class="menu-text">Overview</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../../about/index.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="../../../../models/index.html" aria-current="page"> 
<span class="menu-text">Models</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../../search.html"> 
<span class="menu-text">Search</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../../test_cases.html"> 
<span class="menu-text">Page with code</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
    <a href="https://github.com/CRESYM/Colib_Quarto.github.io" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-github"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../../../../models/index.html">Models</a></li><li class="breadcrumb-item"><a href="../../../../models/1-SynchronousMachines/index.html">Synchronous machines</a></li><li class="breadcrumb-item"><a href="../../../../models/1-SynchronousMachines/Governor/index.html">Governors (GOV)</a></li><li class="breadcrumb-item"><a href="../../../../models/1-SynchronousMachines/Governor/GovHydro4/index.html">GovHydro4</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../../../models/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Models</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../../../models/1-SynchronousMachines/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Synchronous machines</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth2 show">  
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../../../models/1-SynchronousMachines/Generator/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Generator</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth3 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../models/1-SynchronousMachines/Generator/SM1/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Synchronous Machine Model (SM1)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../models/1-SynchronousMachines/Generator/GENQEC/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">GENQEC Synchronous Machine with Saturation</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../models/1-SynchronousMachines/Generator/GENTPJ/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">GENTPF/GENTPJ Synchronous Machine with Saturation</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../models/1-SynchronousMachines/Generator/GENSAL/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">GENROU/GENSAL Salient-pole/round-rotor synchronous machine without saturation</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../../../models/1-SynchronousMachines/ExciterAndVoltageRegulator/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Voltage Regulators (AVR) / Exciters (EX)</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth3 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../models/1-SynchronousMachines/ExciterAndVoltageRegulator/AcRotatingExciter/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">AcRotatingExciter (submodel)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../models/1-SynchronousMachines/ExciterAndVoltageRegulator/SCRX/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">SCRX</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../models/1-SynchronousMachines/ExciterAndVoltageRegulator/ST6C/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">ST6C</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../models/1-SynchronousMachines/ExciterAndVoltageRegulator/ST7C/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">ST7C</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../models/1-SynchronousMachines/ExciterAndVoltageRegulator/ST4C/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">ST4C</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../models/1-SynchronousMachines/ExciterAndVoltageRegulator/AC1C/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">AC1C</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../models/1-SynchronousMachines/ExciterAndVoltageRegulator/ST5C/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">ST5C</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../models/1-SynchronousMachines/ExciterAndVoltageRegulator/AC7C/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">AC7C</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../models/1-SynchronousMachines/ExciterAndVoltageRegulator/DC1C/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">DC1C</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../models/1-SynchronousMachines/ExciterAndVoltageRegulator/IEEX2A/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">IEEX2A</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../models/1-SynchronousMachines/ExciterAndVoltageRegulator/AC6C/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">AC6C</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../models/1-SynchronousMachines/ExciterAndVoltageRegulator/IEEEX2/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">IEEEX2</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../models/1-SynchronousMachines/ExciterAndVoltageRegulator/ST9C/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">ST9C</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../models/1-SynchronousMachines/ExciterAndVoltageRegulator/ST1C/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">ST1C</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../models/1-SynchronousMachines/ExciterAndVoltageRegulator/BBSEX1/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">BBSEX1</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../models/1-SynchronousMachines/ExciterAndVoltageRegulator/AC8C/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">AC8C</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../../../models/1-SynchronousMachines/OverUnderExcitationLimiter/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Over/under Excitation Limiters</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth3 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../models/1-SynchronousMachines/OverUnderExcitationLimiter/SCL2C/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">SCL2C</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../models/1-SynchronousMachines/OverUnderExcitationLimiter/OEL4C/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">OEL4C</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../models/1-SynchronousMachines/OverUnderExcitationLimiter/OEL5C/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">OEL5C</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../models/1-SynchronousMachines/OverUnderExcitationLimiter/SCL1C/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">SCL1C</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../models/1-SynchronousMachines/OverUnderExcitationLimiter/UEL1/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">UEL1</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../models/1-SynchronousMachines/OverUnderExcitationLimiter/OEL3C/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">OEL3C</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../models/1-SynchronousMachines/OverUnderExcitationLimiter/UEL2C/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">UEL2C</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../models/1-SynchronousMachines/OverUnderExcitationLimiter/OEL2C/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">OEL2C</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../../../models/1-SynchronousMachines/Governor/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Governors (GOV)</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth3 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../models/1-SynchronousMachines/Governor/IEEEG2/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">IEEEG2 / GovSteam 2</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../models/1-SynchronousMachines/Governor/GovCT2/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">GovCT2 / GGOV2</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../models/1-SynchronousMachines/Governor/TGOV1/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">TGOV1</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../models/1-SynchronousMachines/Governor/GovSteamEU/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">GovSteamEU</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../models/1-SynchronousMachines/Governor/HYGOV/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">HYGOV</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../models/1-SynchronousMachines/Governor/GAST/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">GAST</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../models/1-SynchronousMachines/Governor/GovHydro4/index.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">GovHydro4</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../models/1-SynchronousMachines/Governor/TGOV3/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">TGOV3</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../models/1-SynchronousMachines/Governor/IEEEG1/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">IEEEG1 / GovSteam 1</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../../../models/1-SynchronousMachines/PowerSystemStabilizer/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Power System Stabilizers (PSS)</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth3 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../models/1-SynchronousMachines/PowerSystemStabilizer/PSS6C/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">PSS6C</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../models/1-SynchronousMachines/PowerSystemStabilizer/PSS3C/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">PSS3C</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../models/1-SynchronousMachines/PowerSystemStabilizer/PSS2C/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">PSS2C</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../models/1-SynchronousMachines/PowerSystemStabilizer/PSS1A/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">PSS1A</span></a>
  </div>
</li>
      </ul>
  </li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../../../models/2-Loads/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Loads</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-8" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../models/2-Loads/FDLoad/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Frequency Dependent Load Model</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../models/2-Loads/ZIPLoad/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">ZIP Load Model</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../models/2-Loads/ExpLoad/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Exponential Load Model</span></a>
  </div>
</li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../../../models/2-Loads/Motor/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Motors</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-9" class="collapse list-unstyled sidebar-section depth3 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../models/2-Loads/Motor/SimpleMotor/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Single-cage induction motor model</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../models/2-Loads/Motor/WECC_Motor/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Induction motor model with rotor flux dynamics</span></a>
  </div>
</li>
      </ul>
  </li>
      </ul>
  </li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#context" id="toc-context" class="nav-link active" data-scroll-target="#context">Context</a>
  <ul class="collapse">
  <li><a href="#types-of-turbines" id="toc-types-of-turbines" class="nav-link" data-scroll-target="#types-of-turbines">Types of turbines</a></li>
  </ul></li>
  <li><a href="#model-use-assumptions-validity-domain-and-limitations" id="toc-model-use-assumptions-validity-domain-and-limitations" class="nav-link" data-scroll-target="#model-use-assumptions-validity-domain-and-limitations">Model use, assumptions, validity domain and limitations</a></li>
  <li><a href="#model-description" id="toc-model-description" class="nav-link" data-scroll-target="#model-description">Model description</a>
  <ul class="collapse">
  <li><a href="#gate-opening-to-turbine-power-characteristic" id="toc-gate-opening-to-turbine-power-characteristic" class="nav-link" data-scroll-target="#gate-opening-to-turbine-power-characteristic">Gate-opening-to-turbine-power characteristic:</a></li>
  <li><a href="#transient-droop" id="toc-transient-droop" class="nav-link" data-scroll-target="#transient-droop">Transient droop</a></li>
  <li><a href="#dead-bands" id="toc-dead-bands" class="nav-link" data-scroll-target="#dead-bands">Dead bands</a></li>
  </ul></li>
  <li><a href="#model-schema" id="toc-model-schema" class="nav-link" data-scroll-target="#model-schema">Model schema</a></li>
  <li><a href="#parameters" id="toc-parameters" class="nav-link" data-scroll-target="#parameters">Parameters</a>
  <ul class="collapse">
  <li><a href="#typical-values-for-the-parameters-that-vary-with-turbine-type" id="toc-typical-values-for-the-parameters-that-vary-with-turbine-type" class="nav-link" data-scroll-target="#typical-values-for-the-parameters-that-vary-with-turbine-type">Typical values for the parameters that vary with turbine type</a></li>
  </ul></li>
  <li><a href="#variables" id="toc-variables" class="nav-link" data-scroll-target="#variables">Variables</a>
  <ul class="collapse">
  <li><a href="#inputs" id="toc-inputs" class="nav-link" data-scroll-target="#inputs">Inputs</a></li>
  <li><a href="#outputs" id="toc-outputs" class="nav-link" data-scroll-target="#outputs">Outputs</a></li>
  </ul></li>
  <li><a href="#equations-algorithm" id="toc-equations-algorithm" class="nav-link" data-scroll-target="#equations-algorithm">Equations &amp; algorithm &nbsp;</a>
  <ul class="collapse">
  <li><a href="#initial-equations" id="toc-initial-equations" class="nav-link" data-scroll-target="#initial-equations">Initial equations</a></li>
  </ul></li>
  <li><a href="#open-source-implementations" id="toc-open-source-implementations" class="nav-link" data-scroll-target="#open-source-implementations">Open source implementations</a></li>
  <li><a href="#table-of-references-license" id="toc-table-of-references-license" class="nav-link" data-scroll-target="#table-of-references-license">Table of references &amp; license</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../../../../models/index.html">Models</a></li><li class="breadcrumb-item"><a href="../../../../models/1-SynchronousMachines/index.html">Synchronous machines</a></li><li class="breadcrumb-item"><a href="../../../../models/1-SynchronousMachines/Governor/index.html">Governors (GOV)</a></li><li class="breadcrumb-item"><a href="../../../../models/1-SynchronousMachines/Governor/GovHydro4/index.html">GovHydro4</a></li></ol></nav>
<div class="quarto-title">
<h1 class="title">GovHydro4</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Nils Wiese, Martin Franke, Saikrishna Vallabhaneni (Fraunhofer IEE) </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">May 9, 2025</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="context" class="level2">
<h2 class="anchored" data-anchor-id="context">Context</h2>
<p>The following information has been gathered from [1], [2] and [3].</p>
<p>In a hydroelectric power plant, the governing system’s main function is to control the speed or load of the turbine by the means of gate opening. The prime movers convert the kinetic energy of the water into mechanical energy, which is then converted into electrical energy by a synchronous generator. The governor monitors the speed of the turbine and adjusts the position of the gates that control the water flow to keep the speed steady. It does this by comparing the actual speed with the desired speed and making changes accordingly [1].</p>
<p>For more details also see [4] and [5].</p>
<section id="types-of-turbines" class="level3">
<h3 class="anchored" data-anchor-id="types-of-turbines">Types of turbines</h3>
<p>Turbines used in the hydro power plants are mainly classified into two types [1]:</p>
<ul>
<li><strong>Impulse turbines</strong> like the Pelton wheel and simple turbine, are used for high heads, typically 300 meters or more. They work by directing high-velocity water jets onto spoon-shaped buckets on a runner, converting potential energy to kinetic energy entirely at atmospheric pressure.</li>
<li><strong>Reaction turbines</strong> such as the Francis and propeller turbines work with water’s kinetic and potential energy. In the Francis turbine, water flows axially through guide vanes, impacting the runner tangentially, suitable for heads up to 360 meters.</li>
</ul>
<p>These distinctions are crucial for understanding the dynamics of hydro governors.</p>
</section>
</section>
<section id="model-use-assumptions-validity-domain-and-limitations" class="level2">
<h2 class="anchored" data-anchor-id="model-use-assumptions-validity-domain-and-limitations">Model use, assumptions, validity domain and limitations</h2>
<p>GovHydro4 is a general model that can be used to represent simple, Francis/Pelton or Kaplan turbines [3].</p>
<p>The model is a positive-sequence RMS model, hence it assumes symmetrical operating conditions and neglects high-frequency dynamics. This type of model is often used in large-scale stability studies, for which it reflects the relevant phenomena. It is not a detailed physical model of the unit. Also for some stability phenomena (e.g.&nbsp;resonance stability) this model is not sufficient and EMT models or other approaches may be necessary.</p>
<p>The gates operate within a range of 0 to 1 PU, transitioning from fully closed to fully open. At zero power, the gates maintain a position greater than zero, and typically remain below 1 PU when power is at 1 PU. The operating limits are defined by Gmax and Gmin.</p>
<p>The dynamic analysis of hydraulic turbines is typically based on the following assumptions regarding the stability of the water column [1]:</p>
<ul>
<li>Hydraulic resistance is considered negligible.</li>
<li>The penstock pipe is assumed to be inelastic, and the water is treated as incompressible.</li>
<li>Water velocity is directly proportional to the gate opening and to the square root of the net head.</li>
<li>Turbine output power is directly proportional to the product of the head and the volumetric flow rate.</li>
</ul>
</section>
<section id="model-description" class="level2">
<h2 class="anchored" data-anchor-id="model-description">Model description</h2>
<ul>
<li>The curve defined in <a href="#fig-gate-head-flow-characteristics" class="quarto-xref">Figure&nbsp;1</a> represents the relationship between the flow of water <span class="math display">\[q\]</span> through the turbine and the stroke <span class="math display">\[G\]</span> of the gate actuating servomotor.</li>
</ul>
<section id="gate-opening-to-turbine-power-characteristic" class="level3">
<h3 class="anchored" data-anchor-id="gate-opening-to-turbine-power-characteristic">Gate-opening-to-turbine-power characteristic:</h3>
<ul>
<li><strong>Simple turbine:</strong> The gate opening-to-turbine power characteristic is represented by a line with a slope of At and an intercept of Qnl, as depicted in the GovHydro4SimpleHydroTurbine diagram. This curve is proportional to turbine power, with the constant of proportionality determined by the turbine gain.</li>
<li><strong>Francis/Pelton:</strong> The non-linear gate opening-to-turbine power characteristic is described by points in the green curve <a href="#fig-gate-head-flow-characteristics" class="quarto-xref">Figure&nbsp;1</a>.</li>
<li><strong>Kaplan:</strong> This model uses points through the blue curve from the <a href="#fig-gate-head-flow-characteristics" class="quarto-xref">Figure&nbsp;1</a> to define the non-linear characteristics of gate opening-to-turbine power and gate opening-to-blade angle.</li>
</ul>
<p><img src="drawings/fig-gate-head-flow-characteristics-output-1.png" class="img-fluid"></p>
<div id="fig-gate-head-flow-characteristics" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-gate-head-flow-characteristics-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<p>Figure&nbsp;1: The gate-head-flow-power characteristics for a kaplan turbine model [3]</p>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig quarto-uncaptioned" id="fig-gate-head-flow-characteristics-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1
</figcaption>
</figure>
</div>
<div id="tbl-gate-head-flow-characteristics" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl quarto-uncaptioned" id="tbl-gate-head-flow-characteristics-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;1
</figcaption>
<div aria-describedby="tbl-gate-head-flow-characteristics-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<p>Table&nbsp;1: Gate head flow characteristics</p>
</div>
</figure>
</div>
<table class="caption-top table">
<colgroup>
<col style="width: 25%">
<col style="width: 25%">
<col style="width: 25%">
<col style="width: 25%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;"><span class="math display">\[G_\mathrm{v}\]</span></th>
<th style="text-align: left;"><span class="math display">\[P_\mathrm{gv}\]</span> (Francis)</th>
<th style="text-align: left;"><span class="math display">\[P_\mathrm{gv}\]</span> (Kaplan)</th>
<th style="text-align: left;"><span class="math display">\[P_\mathrm{gv}\]</span> (Simple)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">0.1</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0.1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">0.4</td>
<td style="text-align: left;">0.42</td>
<td style="text-align: left;">0.35</td>
<td style="text-align: left;">0.4</td>
</tr>
<tr class="even">
<td style="text-align: left;">0.5</td>
<td style="text-align: left;">0.56</td>
<td style="text-align: left;">0.468</td>
<td style="text-align: left;">0.5</td>
</tr>
<tr class="odd">
<td style="text-align: left;">0.7</td>
<td style="text-align: left;">0.8</td>
<td style="text-align: left;">0.796</td>
<td style="text-align: left;">0.7</td>
</tr>
<tr class="even">
<td style="text-align: left;">0.8</td>
<td style="text-align: left;">0.9</td>
<td style="text-align: left;">0.917</td>
<td style="text-align: left;">0.8</td>
</tr>
<tr class="odd">
<td style="text-align: left;">0.9</td>
<td style="text-align: left;">0.97</td>
<td style="text-align: left;">0.99</td>
<td style="text-align: left;">0.9</td>
</tr>
<tr class="even">
<td style="text-align: left;">1</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">1</td>
<td style="text-align: left;">1</td>
</tr>
</tbody>
</table>
<blockquote class="blockquote">
<p>[!NOTE]</p>
<p>The output signal of the lookup-tabl actually represents a flow rate, not a power value (<span class="math display">\[q_\mathrm{f}\]</span> in <a href="#fig-control_diagram" class="quarto-xref">Figure&nbsp;2</a>). Since in [3] the power variable <span class="math display">\[P_\mathrm{gv}\]</span> is used instead, this is also used here in <a href="#fig-gate-head-flow-characteristics" class="quarto-xref">Figure&nbsp;1</a> and <a href="#tbl-turb_parameters" class="quarto-xref">Table&nbsp;3</a></p>
</blockquote>
</section>
<section id="transient-droop" class="level3">
<h3 class="anchored" data-anchor-id="transient-droop">Transient droop</h3>
<p>Hydro power turbines have a unique behavior, where adjusting the gate position for controlling water flow results in an immediate but temporary change in turbine power output to the opposite direction, known as non-minimum phase behavior. To address this, a mechanism called transient droop compensation is employed. This mechanism, which shown in the upper half of the <a href="#fig-control_diagram" class="quarto-xref">Figure&nbsp;2</a>, involves rate feedback or transient gain reduction, which slows down or limits gate movement until water flow and power output have had time to adjust. As the system stabilizes, the governor returns to normal operation with permanent droop <span class="math display">\[R_\mathrm{perm}\]</span>, responding more sensitively to speed deviations to maintain steady-state operation. This compensation mechanism ensures stable control performance, crucial for maintaining the stability of hydroelectric power plants [1].</p>
</section>
<section id="dead-bands" class="level3">
<h3 class="anchored" data-anchor-id="dead-bands">Dead bands</h3>
<p>There is a difference between the intentional deadband (<span class="math display">\[\Delta \omega_\mathrm{db}\]</span>, <span class="math display">\[\Delta \omega_\mathrm{\varepsilon}\]</span>) and the unintentional deadband (<span class="math display">\[\Delta P_\mathrm{db}\]</span>). The former is intentionally added to the control to prevent continuous adjustment of the mechanical power in response to minor frequency deviations. It has a fixed region with zero output. The latter implements a hysteresis around the operating point, representing backlash of the mechanical actuator [5].</p>
</section>
</section>
<section id="model-schema" class="level2">
<h2 class="anchored" data-anchor-id="model-schema">Model schema</h2>
<p>The block diagram of GovHydro4 is depicted in <a href="#fig-control_diagram" class="quarto-xref">Figure&nbsp;2</a>.</p>
<p><img src="./drawings/GovHydro4.drawio.svg" class="img-fluid"></p>
<div id="fig-control_diagram" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-control_diagram-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<p>Figure&nbsp;2: Control diagram</p>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig quarto-uncaptioned" id="fig-control_diagram-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2
</figcaption>
</figure>
</div>
</section>
<section id="parameters" class="level2">
<h2 class="anchored" data-anchor-id="parameters">Parameters</h2>
<p>Per-unit parameters are on base of <span class="math display">\[P_\mathrm{base}\]</span>, which is normally the capability of the turbine in MW. Per-unit angular velocity parameters are based on nominal frequency.</p>
<div id="tbl-parameters" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl quarto-uncaptioned" id="tbl-parameters-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;2
</figcaption>
<div aria-describedby="tbl-parameters-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<p>Table&nbsp;2: Parameters</p>
</div>
</figure>
</div>
<table class="caption-top table">
<colgroup>
<col style="width: 19%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 4%">
<col style="width: 36%">
<col style="width: 34%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">name</th>
<th style="text-align: left;">type</th>
<th style="text-align: left;">unit</th>
<th style="text-align: left;">IEC name</th>
<th style="text-align: left;">description</th>
<th style="text-align: left;">typical value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><span class="math display">\[A_\mathrm{turb}\]</span></td>
<td style="text-align: left;">float</td>
<td style="text-align: left;">pu</td>
<td style="text-align: left;">at</td>
<td style="text-align: left;">Turbine gain</td>
<td style="text-align: left;">1.2</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math display">\[B_\mathrm{max}\]</span></td>
<td style="text-align: left;">float</td>
<td style="text-align: left;">pu</td>
<td style="text-align: left;">bmax</td>
<td style="text-align: left;">Maximum blade adjustment factor</td>
<td style="text-align: left;">see <a href="#tbl-turb_parameters" class="quarto-xref">Table&nbsp;3</a></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math display">\[\Delta \omega_\mathrm{\varepsilon}\]</span></td>
<td style="text-align: left;">float</td>
<td style="text-align: left;">pu</td>
<td style="text-align: left;">eps</td>
<td style="text-align: left;">Intentional deadband discontinuity step size</td>
<td style="text-align: left;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math display">\[\Delta \omega_\mathrm{db}\]</span></td>
<td style="text-align: left;">float</td>
<td style="text-align: left;">pu</td>
<td style="text-align: left;">db1</td>
<td style="text-align: left;">Intentional deadband width</td>
<td style="text-align: left;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math display">\[\Delta P_\mathrm{db}\]</span></td>
<td style="text-align: left;">float</td>
<td style="text-align: left;">pu</td>
<td style="text-align: left;">db2</td>
<td style="text-align: left;">Unintentional dead-band</td>
<td style="text-align: left;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math display">\[D_\mathrm{turb}\]</span></td>
<td style="text-align: left;">float</td>
<td style="text-align: left;">pu</td>
<td style="text-align: left;">dturb</td>
<td style="text-align: left;">Turbine damping factor</td>
<td style="text-align: left;">see <a href="#tbl-turb_parameters" class="quarto-xref">Table&nbsp;3</a></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math display">\[G_\mathrm{max}\]</span></td>
<td style="text-align: left;">float</td>
<td style="text-align: left;">pu</td>
<td style="text-align: left;">gmax</td>
<td style="text-align: left;">Maximum gate opening</td>
<td style="text-align: left;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math display">\[G_\mathrm{min}\]</span></td>
<td style="text-align: left;">float</td>
<td style="text-align: left;">pu</td>
<td style="text-align: left;">gmin</td>
<td style="text-align: left;">Minimum gate opening</td>
<td style="text-align: left;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math display">\[h_\mathrm{dam}\]</span></td>
<td style="text-align: left;">float</td>
<td style="text-align: left;">pu</td>
<td style="text-align: left;">hdam</td>
<td style="text-align: left;">Head available at dam</td>
<td style="text-align: left;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math display">\[M_\mathrm{set}\]</span></td>
<td style="text-align: left;">int</td>
<td style="text-align: left;">-</td>
<td style="text-align: left;">model</td>
<td style="text-align: left;">The kind of model being represented (simple, Francis/Pelton or Kaplan).</td>
<td style="text-align: left;">-</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math display">\[q_\mathrm{nl}\]</span></td>
<td style="text-align: left;">float</td>
<td style="text-align: left;">pu</td>
<td style="text-align: left;">qnl</td>
<td style="text-align: left;">No-load flow at nominal head</td>
<td style="text-align: left;">see <a href="#tbl-turb_parameters" class="quarto-xref">Table&nbsp;3</a></td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math display">\[R_\mathrm{perm}\]</span></td>
<td style="text-align: left;">float</td>
<td style="text-align: left;">pu</td>
<td style="text-align: left;">rperm</td>
<td style="text-align: left;">Permanent droop</td>
<td style="text-align: left;">0.05</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math display">\[R_\mathrm{temp}\]</span></td>
<td style="text-align: left;">float</td>
<td style="text-align: left;">pu</td>
<td style="text-align: left;">rtemp</td>
<td style="text-align: left;">Temporary droop</td>
<td style="text-align: left;">0.3</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math display">\[T_\mathrm{blade}\]</span></td>
<td style="text-align: left;">float</td>
<td style="text-align: left;">s</td>
<td style="text-align: left;">tblade</td>
<td style="text-align: left;">Blade servo time constant</td>
<td style="text-align: left;">100</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math display">\[T_\mathrm{g}\]</span></td>
<td style="text-align: left;">float</td>
<td style="text-align: left;">s</td>
<td style="text-align: left;">tg</td>
<td style="text-align: left;">Gate servo time constant</td>
<td style="text-align: left;">0.5</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math display">\[T_\mathrm{p}\]</span></td>
<td style="text-align: left;">float</td>
<td style="text-align: left;">s</td>
<td style="text-align: left;">tp</td>
<td style="text-align: left;">Pilot servo time constant</td>
<td style="text-align: left;">0.1</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math display">\[T_\mathrm{r}\]</span></td>
<td style="text-align: left;">float</td>
<td style="text-align: left;">s</td>
<td style="text-align: left;">tr</td>
<td style="text-align: left;">Dashpot time constant</td>
<td style="text-align: left;">5</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math display">\[T_\mathrm{w}\]</span></td>
<td style="text-align: left;">float</td>
<td style="text-align: left;">s</td>
<td style="text-align: left;">tw</td>
<td style="text-align: left;">Water inertia time constant</td>
<td style="text-align: left;">1</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math display">\[U_\mathrm{c}\]</span></td>
<td style="text-align: left;">float</td>
<td style="text-align: left;">pu</td>
<td style="text-align: left;">uc</td>
<td style="text-align: left;">Max gate closing velocity</td>
<td style="text-align: left;">-0.2</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math display">\[U_\mathrm{o}\]</span></td>
<td style="text-align: left;">float</td>
<td style="text-align: left;">pu</td>
<td style="text-align: left;">uo</td>
<td style="text-align: left;">Max gate opening velocity</td>
<td style="text-align: left;">0.2</td>
</tr>
</tbody>
</table>
<section id="typical-values-for-the-parameters-that-vary-with-turbine-type" class="level3">
<h3 class="anchored" data-anchor-id="typical-values-for-the-parameters-that-vary-with-turbine-type">Typical values for the parameters that vary with turbine type</h3>
<div id="tbl-turb_parameters" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl quarto-uncaptioned" id="tbl-turb_parameters-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;3
</figcaption>
<div aria-describedby="tbl-turb_parameters-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<p>Table&nbsp;3: Turbine type dependent parameters</p>
</div>
</figure>
</div>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Parameter name</th>
<th>Simple</th>
<th>Francis</th>
<th>Pelton</th>
<th>Kaplan</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><span class="math display">\[B_\mathrm{max}\]</span></td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1.1276</td>
</tr>
<tr class="even">
<td><span class="math display">\[D_\mathrm{turb}\]</span></td>
<td>0.5</td>
<td>1.1</td>
<td>1.1</td>
<td>1.1</td>
</tr>
<tr class="odd">
<td><span class="math display">\[q_\mathrm{nl}\]</span></td>
<td>0.08</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
</tbody>
</table>
<blockquote class="blockquote">
<p>[!NOTE]</p>
<p>The simple turbine model uses a proportional turbine characteristic without no-load offset, hence the <span class="math display">\[q_\mathrm{nl}\]</span> = 0.08 pu are to compensate for that simplification. In the other turbine models, no-load flow is already included in their characteristic (see <a href="#fig-gate-head-flow-characteristics" class="quarto-xref">Figure&nbsp;1</a>), hence <span class="math display">\[q_\mathrm{nl}\]</span> = 0 pu. In the model the turbine dependent parameters are chosen automatically by selecting a turbine type.</p>
</blockquote>
</section>
</section>
<section id="variables" class="level2">
<h2 class="anchored" data-anchor-id="variables">Variables</h2>
<section id="inputs" class="level3">
<h3 class="anchored" data-anchor-id="inputs">Inputs</h3>
<div id="tbl-inputs" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl quarto-uncaptioned" id="tbl-inputs-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;4
</figcaption>
<div aria-describedby="tbl-inputs-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<p>Table&nbsp;4: Inputs</p>
</div>
</figure>
</div>
<table class="caption-top table">
<colgroup>
<col style="width: 29%">
<col style="width: 6%">
<col style="width: 5%">
<col style="width: 29%">
<col style="width: 28%">
</colgroup>
<thead>
<tr class="header">
<th>name</th>
<th>type</th>
<th>unit</th>
<th>IEC name</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><span class="math display">\[\Delta\omega\]</span></td>
<td>float</td>
<td>pu</td>
<td><span class="math display">\[\omega\]</span></td>
<td>rotor speed</td>
</tr>
<tr class="even">
<td><span class="math display">\[\omega_\mathrm{ref}\]</span></td>
<td>float</td>
<td>pu</td>
<td><span class="math display">\[\omega_\mathrm{ref}\]</span></td>
<td>rotor speed reference</td>
</tr>
<tr class="odd">
<td><span class="math display">\[P_\mathrm{ref}\]</span></td>
<td>float</td>
<td>pu</td>
<td>pref</td>
<td>Reference Power demand</td>
</tr>
</tbody>
</table>
<blockquote class="blockquote">
<p>[!NOTE]</p>
<p>During initialization <span class="math display">\[P_\mathrm{ref}\]</span> is calculated. Its value does not correspond to the power output. This approach has historical roots: Initially, a manual actuator for <span class="math display">\[P_\mathrm{ref}\]</span> was adjusted without a display to show the precise value. Operators would move the actuator while observing the turbine’s output power, so the exact value of <span class="math display">\[P_\mathrm{ref}\]</span> was not critical.</p>
</blockquote>
</section>
<section id="outputs" class="level3">
<h3 class="anchored" data-anchor-id="outputs">Outputs</h3>
<div id="tbl-outputs" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl quarto-uncaptioned" id="tbl-outputs-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;5
</figcaption>
<div aria-describedby="tbl-outputs-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<p>Table&nbsp;5: Outputs</p>
</div>
</figure>
</div>
<table class="caption-top table">
<thead>
<tr class="header">
<th>name</th>
<th>type</th>
<th>unit</th>
<th>IEC name</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><span class="math display">\[P_\mathrm{m}\]</span></td>
<td>float</td>
<td>pu</td>
<td>Pm</td>
<td>mechanical power</td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="equations-algorithm" class="level2">
<h2 class="anchored" data-anchor-id="equations-algorithm">Equations &amp; algorithm &nbsp;</h2>
<p>The initial values for the system’s states are calculated from the initial mechanical power <span class="math display">\[P_\mathrm{m\,0}\]</span> Pu.</p>
<p>The lookup-table <span class="math display">\[L_\mathrm{turb}\]</span> of the turbine characteristics is used in the model to translate gate opening <span class="math display">\[G\]</span> to water flow <span class="math display">\[q\]</span>. Its inverse lookup-table <span class="math display">\[L^{-1}_\mathrm{turb}\]</span> is used in the following equations for initialization. It translates water flow to gate opening: <span class="math display">\[G =  L^{-1}_\mathrm{turb}(q)\]</span>.</p>
<section id="initial-equations" class="level3">
<h3 class="anchored" data-anchor-id="initial-equations">Initial equations</h3>
<p>The variable <span class="math display">\[G_\mathrm{0}\]</span> is used for an easier initialization.</p>
<p><span class="math display">\[G_\mathrm{0} = L^{-1}_\mathrm{turb}\left(P_\mathrm{m\,0} / A_\mathrm{turb} + Q_\mathrm{nl}\right)\]</span></p>
<p><span class="math display">\[P_\mathrm{ref\,0} = G_\mathrm{0} \cdot R_\mathrm{perm}\]</span></p>
<p><span class="math display">\[x_\mathrm{Tw\,0} = P_\mathrm{m0} / A_\mathrm{turb} + Q_\mathrm{nl}\]</span></p>
<p><span class="math display">\[x_\mathrm{G\,0}= G_\mathrm{0}\]</span></p>
<p><span class="math display">\[x_\mathrm{tfRTemp\,0} = 0\]</span></p>
<p><span class="math display">\[x_\mathrm{Tp\,0} = 0\]</span></p>
<p><span class="math display">\[P_\mathrm{ref\,0}  = G_\mathrm{0} \cdot R_\mathrm{perm}\]</span></p>
</section>
</section>
<section id="open-source-implementations" class="level2">
<h2 class="anchored" data-anchor-id="open-source-implementations">Open source implementations</h2>
<p>This model has been successfully implemented in :</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Software</th>
<th>URL</th>
<th>Language</th>
<th>Open-Source License</th>
<th>Last consulted date</th>
<th>Comments</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Open Modelica / Dynawo</td>
<td><a href="https://github.com/dynawo/dynawo">Dynawo</a></td>
<td>modelica</td>
<td><a href="https://www.mozilla.org/en-US/MPL/2.0/">MPL v2.0</a></td>
<td>30/10/2024</td>
<td>For modeling assumptions and test results, see <a href="https://github.com/dynawo/dynawo">Dynawo</a> repository.</td>
</tr>
</tbody>
</table>
</section>
<section id="table-of-references-license" class="level2">
<h2 class="anchored" data-anchor-id="table-of-references-license">Table of references &amp; license</h2>
<div id="refs" class="references csl-bib-body" data-entry-spacing="0" role="list">
<div id="ref-kundur1994" class="csl-entry" role="listitem">
<div class="csl-left-margin">[1] </div><div class="csl-right-inline">P. Kundur, <em>Power System Stability and Control</em>. New York: McGraw-Hill Education Ltd, 1994.</div>
</div>
<div id="ref-neplan2015" class="csl-entry" role="listitem">
<div class="csl-left-margin">[2] </div><div class="csl-right-inline">Neplan, “TURBINE-GOVERNOR MODELS – Standard Dynamic Turbine-Governor Systems in NEPLAN Power System Analysis Tool.” 2015. Available: <a href="https://www.neplan.ch">www.neplan.ch</a></div>
</div>
<div id="ref-iec2024" class="csl-entry" role="listitem">
<div class="csl-left-margin">[3] </div><div class="csl-right-inline">IEC, “IEC 61970-302:2024 Energy management system application program interface (EMS-API) - Part 302: Common information model (CIM) dynamics.” VDE, 2024. Accessed: Oct.&nbsp;30, 2024. [Online]. Available: <a href="https://www.vde-verlag.de/iec-normen/252516/iec-61970-302-2024.html" class="uri">https://www.vde-verlag.de/iec-normen/252516/iec-61970-302-2024.html</a></div>
</div>
<div id="ref-ieee2013" class="csl-entry" role="listitem">
<div class="csl-left-margin">[4] </div><div class="csl-right-inline">IEEE, “Dynamic Models for Turbine-Governors in Power System Studies.” Jan.&nbsp;2013.</div>
</div>
<div id="ref-feltes2013" class="csl-entry" role="listitem">
<div class="csl-left-margin">[5] </div><div class="csl-right-inline">J. Feltes <em>et al.</em>, “Review of Existing Hydroelectric Turbine-Governor Simulation Models,” ANL/DIS-13/05, 1098022, Oct.&nbsp;2013. doi: <a href="https://doi.org/10.2172/1098022">10.2172/1098022</a>.</div>
</div>
</div>


</section>

<a onclick="window.scrollTo(0, 0); return false;" role="button" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> Back to top</a></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/CRESYM\.github\.io\/Colib_Quarto\.github\.io\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>Copyright © 2023-2025 Authors of Collaborative Open-Source Dynamic Simulation Library. Content licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC-BY-4.0</a>.</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item">
    <a class="nav-link" href="../../../../about/index.html">
<p>About</p>
</a>
  </li>  
    <li class="nav-item">
    <a class="nav-link" href="../../../../contact.html">
<p>Contact</p>
</a>
  </li>  
    <li class="nav-item">
    <a class="nav-link" href="https://cresym.eu/privacy-policy/">
<p>Privacy Policy</p>
</a>
  </li>  
    <li class="nav-item">
    <a class="nav-link" href="../../../../about/terms.html">
<p>Terms of Reference</p>
</a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/CRESYM/Colib_Quarto.github.io">
      <i class="bi bi-github" role="img">
</i> 
    </a>
  </li>  
</ul>
    </div>
  </div>
</footer>




</body></html>